{%- capture instagramFeed -%}
{% assign secSt = section.settings %}
<div class="content-indent {{ section.settings.top-offeset}}">
  <div class="{% unless section.settings.section_width %}page-width{% endunless %} wow fadeIn" data-section-id="{{ section.id }}" data-section-type="instagram" data-image="{{ section.settings.images_size }}"
     data-count="{{ section.settings.limit }}" data-act="{{ section.settings.act }}">
    <section class="home-instagram wow fadeIn">   
        <div class="widget-title tc">        
         {% render 'sec-title' %}        
        </div>    
      	<div id="instafeed{{section.id}}" class="grid rwcols-{{secSt.mobile-grid}} rwcols-md-{{secSt.tablet-grid}} rwcols-lg-{{secSt.grid}} pr tc instafeed{% if section.settings.instastyle == 'carousel' %} carousel{% else %} list{% endif %}{% if section.settings.grid_space %} grid-sp{% endif %}{% if section.settings.section_width or settings.layout_style == "fullwidth" %} fw{% endif %}"
             {% if section.settings.instastyle == 'carousel' %}data-flickity1='{ "cellAlign":"left","groupCells":true,"wrapAround":true,"pageDots":false{%- if secSt.autoplay -%},"autoPlay":{{secSt.speed | times: 1000}}{% endif %}{%- if settings.rtl -%},"rightToLeft": true{%- endif -%} }'{% endif %}></div>
        {% if section.settings.instagram_button_text != blank and section.settings.instagram_button_link != blank %}
            <div class="followus">
              <a href="{{ section.settings.instagram_button_link }}" title="{{ section.settings.instagram_button_text }}" target="_blank" class="btn">{{ section.settings.instagram_button_text }}</a>
            </div>
        {% endif %}
    </section>
  </div>
</div>
{%- endcapture -%}
{{instagramFeed | strip_newlines | remove: "  " | remove: "	" }}
{% schema %}
  {
    "name": "Instagram",  
    "settings": [
      {
        "type": "textarea",
        "id": "title",
        "label": "Heading",
        "default": "Avone On Instagram"
      },
      {
        "type": "textarea",
        "id": "subtitle",
        "label": "Sub Heading",
        "default": "Phasellus lorem malesuada ligula pulvinar commodo auctom."
      },
	  {
		"type":"paragraph",
		"content":"Section==="
	  },	 
	  {
            "type": "select",
            "id": "top-offeset",
            "label": "Top OffSet",
            "default": "default",
            "options": [
              {
                "value": "default",
                "label": "Default"
              },
              {
                "value": "small",
                "label": "Small"
              },
			  {
                "value": "none",
                "label": "None"
              }
			]
      },
      {
		"type":"checkbox",
		"id":"section_width",
		"label":"Fullwidth?",
		"default": true
	  },
	  {
        "type": "text",
        "id": "act",
        "label": "User's photos via Instagram API",
        "info": "Add Instagram Access Token Key here. [How to get Instagram Access Token?](https://www.adornthemes.com/knowledge-base/how-to-get-instagram-access-token/)"
      },
	  {
		"type":"header",
		"content":"Appearance"
	  },	
	  {
            "type": "select",
            "id": "instastyle",
            "label": "Select Style",
            "default": "carousel",
            "options": [
              {
                "value": "carousel",
                "label": "Carousel"
              },
              {
                "value": "list",
				"value": "List"
              }			  
		   ]
      }, 
 	 {
        "type": "checkbox",
        "id": "grid_space",
        "label": "Enable Grid Space",
        "default": true       
      },  
      {
        "type": "range",
        "id": "limit",
        "label": "Number of Photos to Display",
        "default": 7,
        "min": 1,
        "max": 20,
        "step": 1
      },      
	  {
         "type": "paragraph",
         "content": "Photos Per Row"
      },
      {
        "type": "range",
        "id": "grid",
        "label": "Desktop",
        "default": 6,
        "min": 1,
        "max": 10,
        "step": 1
      },
      {
        "type": "range",
        "id": "tablet-grid",
        "label": "Tablet",
        "default": 5,
        "min": 1,
        "max": 7,
        "step": 1
      },
      {
        "type": "range",
        "id": "mobile-grid",
        "label": "Mobile",
        "default": 3,
        "min": 1,
        "max": 5,
        "step": 1
      },
	 {
        "type": "text",
        "id": "instagram_button_text",
        "label": "Button Instagram Text",
        "default": "View Gallery"
      },
      {
        "type": "text",
        "id": "instagram_button_link",
        "label": "Button Instagram Link"
      }
    ],   
    "presets": [
      {
        "name": "Instagram"         
      }
    ]
  }
{% endschema %}