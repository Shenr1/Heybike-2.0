{%- assign secSt = section.settings -%}

<section section-name="multiple-image-text" class="{% render 'section-interva-set' , secSt:secSt %}" >
  <div class="page-width px-4">
    <h1 class="md:text-4_5xl text-3xl text-center md:mb-12 mb-8">{{secSt.title}}</h1>

    <div class="md:flex" >
      {% for block in section.blocks %}
      {%- assign blkSt = block.settings -%}

      {% if blkSt.bg_img != blank %}
      {% if secSt.layout == 'textImg' %}
        {% assign textImg = true %}
      {% else %}
        {% assign textImg = false %}
      {% endif %}

      {% if forloop.length < 3 %}
      {% assign rounded = 'md:rounded-section' %}
      {% else %}
      {% assign rounded = '' %}
      {% endif %}

      <div class="md:{{blkSt.slide_w}} md:mx-3 last:mr-0 first:ml-0 flex flex-col md:m-0 mb-8 relative">  
        <div class="{{rounded}} rounded-3xl overflow-hidden h-full {% unless textImg %}md:mb-6 mb-2{% endunless %}" style="background-color:{{blkSt.bg_color}};">
          {{ blkSt.bg_img | image_url: width: 1200 | image_tag: width: nil, loading: 'lazy', class: "h-full object-cover block" }}
        </div>
        <section class="{% if textImg %}absolute bottom-6 left-6 text-white{% endif %}">
          <h1 class="{% if textImg %}md:text-xl text-lg mb-1 {% else %} md:text-3xl text-2xl md:mb-2 mb-0{% endif %}">{{ blkSt.text_main  }}</h1>
          <p class="{% if textImg %}text-base{% else %}text-lg{% endif %}">{{ blkSt.text_sub  }}</p>
        </section>
      </div>
      {% endif %}

      {% endfor %}
    </div>

    {% if secSt.bottom_line %}
      <hr class="h-px my-8 bg-gray-200 border-0">
    {% endif %}
  </div>


</section>  



{% schema %}
  {
    "name": "Multiple image text v2",
    "tag": "section",
    "settings": [
      {
        "type": "header",
        "content": "Section interval set"
      },
      {
        "type": "select",
        "id": "top_padding",
        "label": "top interval",
        "default": "large",
        "options": [
          {
            "value": "large",
            "label": "Large"
          },
          {
            "value": "default",
            "label": "Default"
          },
          {
            "value": "medium",
            "label": "Medium"
          },
          {
            "value": "small",
            "label": "Small"
          },
          {
            "value": "none",
            "label": "None"
          }
        ]
      },
      {
        "type": "select",
        "id": "bottom_padding",
        "label": "bottom interval",
        "default": "default",
        "options": [
          {
            "value": "large",
            "label": "Large"
          },
          {
            "value": "default",
            "label": "Default"
          },
          {
            "value": "medium",
            "label": "Medium"
          },
          {
            "value": "small",
            "label": "Small"
          },
          {
            "value": "none",
            "label": "None"
          }
        ]
      },
      {
        "type": "header",
        "content": "Default set"
      },
      {
        "type":"text",
        "label": "Section title",
        "id":"title",
        "default":"The World of HEYBIKE"
      },
      {
        "type": "select",
        "id": "layout",
        "label": "Layout style",
        "default": "textImg",
        "options": [
          {
            "value": "textImg",
            "label": "Text on the picture"
          },
          {
            "value": "imgText",
            "label": "Text is below the picture"
          }
        ]
      },
 		  {
        "type": "checkbox",
        "id": "bottom_line",
        "label": "Enable bottom line",
        "default": false
      }
    ],
    "blocks": [
      {
        "name": "Slide",
        "type": "slide",
        "settings": [
          {
            "type": "select",
            "id": "slide_w",
            "label": "Slide width",
            "options": [
              {
                "value": "w-1/3",
                "label": "1/3"
              },
              {
                "value": "w-2/3",
                "label": "2/3"
              },
              {
                "value": "w-full",
                "label": "full"
              }
            ]
          },
          {
            "type": "color",
            "id": "bg_color",
            "label": "Background color"
          },
          {
            "type": "image_picker",
            "id": "bg_img",
            "label": "Slide image"
          },
          {
            "type": "text",
            "id": "text_main",
            "label": "Title",
            "default": "Find Dealers Near You"
          },
          {
            "type": "text",
            "id": "text_sub",
            "label": "Sub title",
            "default": "Test Ride & Buy Directly"
          },
          {
            "type": "url",
            "id": "url",
            "label": "Button link"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Multiple image text v2",
        "category": "Heybike v2"
      }
    ]
  }
{% endschema %} 