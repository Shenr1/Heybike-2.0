{%- assign secSt = section.settings -%}

<section section-name="products-slider-full" class="{% render 'section-interva-set' , secSt:secSt %}" style="background-image: linear-gradient({{secSt.bg_color}}, #fff);">
  <div class="page-width text-center md:mb-13 mb-6">
    <h1 class="md:text-4_5xl text-3xl">{{section.settings.title}}</h1> 
  </div>

  <div class="relative">
    <div class="absolute opacity-60 top-8 left-1/2 -translate-x-1/2 lg:w-[33vw] lg:h-[33vw] w-1/2 h-1/2 rounded-full shadow-[0px -10px 5px 3px #ededed] bg-gradient-to-b via-white from-white to-transparent"></div>
    <div class="relative" 
    hb-flickity='{"wrapAround": "true","draggable": true,"selectedAttraction": 0.01,"friction": 0.15, "imagesLoaded": true }'>
      {% for block in section.blocks %}
      <div class="page-width opacity-30 transition-opacity duration-700 delay-300" >
        {%- assign product = block.settings.product -%}
        {% if product.title.size > 0 %}
        <div tag-name="product-info" class="md:absolute relative md:mb-0 mb-8 left-4 top-4 opacity-0 transition-opacity duration-300 delay-700 w-full z-20">
          <div class="">
            <h2 class="lg:text-3_5xl md:text-3xl text-2xl mb-1">{{ product.title }}</h2>
            <p class="md:text-1_5xl text-lg md:mb-12 mb-2 text-black-600">{{block.settings.info}}</p>
            <div class="flex items-center">
              <a href="{{ product.url }}" class="btn text-base py-1 md:px-5 px-3"> {{ section.settings.btn_Text }} </a>
              <p class="text-xl ml-4 font-medium">{{ product.price | money}}</p>
            </div>
          </div>
          {% if block.settings.tags_image != blank %}
          <div class="absolute right-4 top-4 md:w-auto w-[12.5%]">
            <img src="{{ block.settings.tags_image | image_url: master }}">
          </div>
          {% endif %}

        </div>
          {% if block.settings.product_image %}
          <div class='scale-90 transition-all duration-700 delay-300' tag-name="product-img">{{ block.settings.product_image | image_url: width: 1920 | image_tag: width: nil }}</div>
          {% else %}
          <div class='scale-90 transition-all duration-700 delay-300' tag-name="product-img">{{ product.featured_image | image_url: width: 1920 | image_tag: width: nil }}</div>
          {% endif %}
        
        {% endif %}
      </div>

      {% endfor %}
    </div>
  </div>
</section>  

{% schema %}
  {
    "name": "Full screen slider v2",
    "tag": "section",
    "settings": [	
      {
        "type": "header",
        "content": "Section interval set"
      },
      {
        "type": "select",
        "id": "top_padding",
        "label": "top interval",
        "default": "large",
        "options": [
          {
            "value": "large",
            "label": "Large"
          },
          {
            "value": "default",
            "label": "Default"
          },
          {
            "value": "medium",
            "label": "Medium"
          },
          {
            "value": "small",
            "label": "Small"
          },
          {
            "value": "none",
            "label": "None"
          }
        ]
      },
      {
        "type": "select",
        "id": "bottom_padding",
        "label": "bottom interval",
        "default": "default",
        "options": [
          {
            "value": "large",
            "label": "Large"
          },
          {
            "value": "default",
            "label": "Default"
          },
          {
            "value": "medium",
            "label": "Medium"
          },
          {
            "value": "small",
            "label": "Small"
          },
          {
            "value": "none",
            "label": "None"
          }
        ]
      },
      {
        "type": "header",
        "content": "Default set"
      },
 		  {
        "type": "text",
        "id": "title",
        "label": "Title"			
      },
 		  {
        "type": "text",
        "id": "btn_Text",
        "label": "Button Text",
        "default": "Order now"			
      },
 		  {
        "type": "color",
        "id": "bg_color",
        "label": "Background color",
        "default": "#f3f5f9" 
      }
    ],
    "blocks":[
      {
        "name": "Slide",
        "type": "slide",
        "settings": [
          {
            "type": "product",
            "id": "product",
            "label": "Select Product"
          },
          {
            "type": "image_picker",
            "id": "product_image",
            "label": "Select product image (default use product first image)"
          },
          {
            "type": "text",
            "id": "info",
            "label": "Product info",
            "default":"Aviation grade magnesium alloy"
          },
          {
            "type": "image_picker",
            "id": "tags_image",
            "label": "Select product tags"
          }
        ]
      }
    ],
    "presets": [
        {
          "name": "Full screen slider  v2",
          "category": "Heybike v2"
        }
      ]
  }
{% endschema %} 